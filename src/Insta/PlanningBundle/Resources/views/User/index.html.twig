{% extends 'PlanningBundle::layout.html.twig' %}

{% block content %}
    <div class="col-lg-8">
        <fieldset>
            <legend>Liste des utilisateurs <small>Max: 20</small>
                    <div class="btn-group btn-group-xs pull-right">
                        <a href="{{ path('user_list') }}" class="btn btn-xs btn-primary">Liste compl√®te</a>
                        <a href="{{ path('user_add') }}" class="btn btn-xs btn-info">Ajouter un utilisateur</a>

                    </div>
                </legend>
            <table class="table table-condensed table-bordered table-striped">
                <thead>
                <tr>
                    <th>Identifiant</th>
                    <th>Email</th>
                    <th>Groupes</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for user in users|slice(0,20) %}
                    <tr {% if user.locked %}class="bg-warning"{% endif %}>
                        <td>{{ user.username }}</td>
                        <td>{{ user.email }}</td>
                        <td>{{ user.groupNames|join }}</td>
                        <td>
                            <div class="btn-group" role="group" aria-label="...">
                                <a class="btn btn-default btn-xs" href="{{ path('user_show', {user:user.usernameCanonical}) }}">Afficher</a>
                                <a class="btn btn-info btn-xs" href="{{ path('user_edit', {user:user.usernameCanonical}) }}">Editer</a>
                            </div>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </fieldset>
    </div>
    <div class="col-lg-4">
        <fieldset>
            <legend>Liste des groupes <small class="pull-right"><a href="{{ path('group_add') }}" class="btn btn-xs btn-default">Ajouter un groupe</a></small></legend>
            <table class="table table-condensed table-bordered">
                <thead>
                <tr>
                    <th>Nom</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for group in groups %}
                    <tr>
                        <td>{{ group.name }}</td>
                        <td>
                            <div class="btn-group" role="group" aria-label="...">
                                <a class="btn btn-default btn-xs" href="{{ path('group_show', {group:group.nameCanonical}) }}">Afficher</a>
                                <a class="btn btn-info btn-xs" href="{{ path('group_edit', {group:group.nameCanonical}) }}">Editer</a>
                            </div>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </fieldset>
    </div>
{% endblock %}